<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="message">
 	<select id="selectReceiveList" resultType="message">
		SELECT * FROM MESSAGE WHERE MESSAGE_RECEIVER=#{id} AND status in('Y') ORDER BY MESSAGE_NUM DESC
	</select>
	<select id="selectReceiveCount" resultType="_int">
		SELECT COUNT(*) FROM MESSAGE WHERE MESSAGE_RECEIVER=#{id} AND status in('Y') ORDER BY MESSAGE_NUM DESC
	</select>
	<select id="selectSendList" resultType="message">
		SELECT * FROM MESSAGE WHERE MESSAGE_SENDER=#{id} AND STATUS='Y' ORDER BY MESSAGE_NUM DESC
	</select>
	<select id="selectSendCount" resultType="_int">
		SELECT COUNT(*) FROM MESSAGE WHERE MESSAGE_SENDER=#{id} AND STATUS='Y'
	</select>
	<select id="selectMessageOne" resultType="message">
		SELECT * FROM MESSAGE WHERE MESSAGE_NUM=#{message_num} AND STATUS='Y'
	</select>
	<update id="deleteMessage" parameterType="_int">
		UPDATE MESSAGE SET STATUS='N' WHERE MESSAGE_NUM=#{message_num}
	</update>
	<insert id="insertSend" parameterType="message">
		INSERT INTO MESSAGE VALUES(MESSAGE_SEQ.NEXTVAL,#{message_sender},#{message_receiver},#{message_title},#{message_content},sysdate,'Y')
	</insert>
</mapper>
